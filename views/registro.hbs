  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light site-navbar-target"
    id="ftco-navbar">
    <div class="container">
      <a class="navbar-brand text-warning" href="/">Estetica<span>Umala</span></a>
      <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse"
        data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="oi oi-menu"></span> Menu
      </button>

      <div class="collapse navbar-collapse" id="ftco-nav">
        <ul class="navbar-nav nav ml-auto">
          <li class="nav-item"><a href="/" class="nav-link"><span>Volver a Inicio</span></a></li>
        </ul>
      </div>
    </div>
  </nav>


    <div class="container mt-5">
        <div class="row">
			<div class="col-md-5 mx-auto">

			  <div id="second">
			      <div class="myform form p-5 mx-auto" >
                        <div class="logo mb-3">
                           <div class="col-md-12 text-center">
                              <h1>Registro</h1>
                           </div>
                        </div>
                        <form action="#" name="registration" id="registroForm">
                           <div class="form-group">
                              <label for="exampleInputEmail1">Nombre</label>
                              <input type="text"  name="name" class="form-control" id="name" aria-describedby="emailHelp" placeholder="Nombre">
                           </div>
                           <div class="form-group">
                              <label for="exampleInputEmail1">Apellido</label>
                              <input type="text"  name="lastname" class="form-control" id="lastname" aria-describedby="emailHelp" placeholder="Apellido">
                           </div>
                           <div class="form-group">
                              <label for="exampleInputEmail1">Correo Electronico</label>
                              <input type="email" name="mail"  class="form-control" id="mail" aria-describedby="emailHelp" placeholder="Correo Electronico">
                           </div>
                           <div class="form-group">
                               <div class="form-group">
                              <label for="exampleInputEmail1">Usuario</label>
                              <input type="text"  name="username" class="form-control" id="username" aria-describedby="emailHelp" placeholder="Apellido">
                           </div>
                              <label for="exampleInputEmail1">ContraseÃ±a</label>
                              <input type="password" name="password" id="password"  class="form-control" aria-describedby="emailHelp" placeholder="ContraseÃ±a">
                           </div>
                           <div class="col-md-12 text-center mb-3">
                              <button type="button" id="boton" class=" btn btn-block mybtn btn-primary tx-tfm">Registrar</button>
                           </div>
                           <div class="col-md-12 ">
                              <div class="form-group">
                                 <p class="text-center"><a href="/login" id="signin">Ya tenes cuenta? Hace click aca para iniciar sesion!</a></p>
                              </div>
                           </div>
                            </div>
                        </form>
                     </div>
			</div>
		</div>
      </div>   
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>         
<script>
    // document
    // window -> 
    // listener (evento, callback/funcion)
    window.addEventListener('load', () => {
        console.log("Cargado..")
        document.getElementById('boton').addEventListener('click', botonApretado);
    });

    const botonApretado = () => {
        const datos = new URLSearchParams(new FormData(document.getElementById('registroForm')));
        // fetch
        fetch('/registro', {
            
            method: 'POST',
            body: datos,
            
        })
            .then(response => response.json())
            .then(data => message(data));
    }

    const message = (datos) => {
        if (datos.success == true) {
            Swal.fire({
                position: 'center',
                icon: 'success',
                title: 'Usuario registrado con exito! ðŸ¤ž',
                showConfirmButton: false,
            })
            window.setTimeout(function(){ 
             window.location.href = "/login";
            } ,2000);
        } else {
            Swal.fire({
                position: 'center',
                icon: 'error',
                title: 'Oops... Ocurrio un error ðŸ¤£',
                showConfirmButton: true,
            })
        }
    }

</script>